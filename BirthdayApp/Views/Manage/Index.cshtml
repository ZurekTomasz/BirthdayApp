@model BirthdayApp.Models.IndexViewModel
@{
    ViewBag.Title = "Ustawienia konta";
}

<h2>@ViewBag.Title.</h2>

<p class="text-success">@ViewBag.StatusMessage</p>
<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>Imię:</dt>
        <dd>
            <span> @ViewBag.thisUserContext.Firstname </span>
        </dd>

        <dt>Nazwisko:</dt>
        <dd>
            <span> @ViewBag.thisUserContext.Surname </span>
        </dd>

        @*<dt>UserId:</dt>
        <dd>
            @foreach (var item in ViewBag.thisUserContext)
            {
                <span> @item.Id </span>
            }
        </dd>

        <dt>EntityID:</dt>
        <dd>
            <span> @ViewBag.userId </span>
        </dd>*@

        <dt>Email:</dt>
        <dd>
            <span> @ViewBag.thisUserContext.Email </span>
        </dd>

        <dt>Password:</dt>
        <dd>
            [
            @if (Model.HasPassword)
            {
                @Html.ActionLink("Zmień swoje hasło", "ChangePassword")
            }
            else
            {
                @Html.ActionLink("Ustal swoje hasło", "SetPassword")
            }
            ]
        </dd>

        <dt>Powiadomienia przy nowej zbiórce:</dt>
        <dd>
            [
            @if (!ViewBag.thisUserContext.IgnoreEmailCreate)
            {
                @Html.ActionLink("Wyłącz powiadomienia e-mail", "EmailDbChange", "Users" , new { userId = ViewBag.thisUserContext.Id, option = "Create", value = 1 } , null)
            }
            else
            {
                @Html.ActionLink("Włącz powiadomienia e-mail", "EmailDbChange", "Users", new { userId = ViewBag.thisUserContext.Id, option = "Create", value = 0 }, null)
            }
            ]
        </dd>

        <dt>Powiadomienia przy zatwierdzeniu zbiórki:</dt>
        <dd>
            [
            @if (!ViewBag.thisUserContext.IgnoreEmailConfirm)
            {
                @Html.ActionLink("Wyłącz powiadomienia e-mail", "EmailDbChange", "Users" , new { userId = ViewBag.thisUserContext.Id, option = "Confirm", value = 1 }, null)
            }
            else
            {
                @Html.ActionLink("Włącz powiadomienia e-mail", "EmailDbChange", "Users", new { userId = ViewBag.thisUserContext.Id, option = "Confirm", value = 0 }, null)
            }
            ]
        </dd>

    </dl>
</div>
