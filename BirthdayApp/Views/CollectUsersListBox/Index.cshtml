@model BirthdayApp.ViewModels.CollectUsersListBoxViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h4>Zarządzanie użytkownikami w zbiórce</h4>

@using (Html.BeginForm("Index", "CollectUsersListBox", FormMethod.Post))
{

    <br/>
    @Html.Raw("<b>Nazwa zbiórki: </b>")
    @Html.Raw(Model.CollectName)
    <br />
    @Html.Raw("<b>Zbieramy dla: </b>")
    @Html.Raw(Model.RecipientName)
    <br />
    <br />
    <b>
        @Html.Raw("Użytkownicy:")
    </b>
    <br />
    @Html.ListBoxFor(m => m.UsersListIds, Model.UsersList, new { @class = "listbox" })
    <br />
    <br />
    <input type = "submit" value = "Aktualizuj" class="btn btn-primary" />
}
<br />
@Html.ActionLink("Przejdź do szczegółów zbiórki", "Details", "Collects", new { id = Model.CollectId }, null)


@section Scripts {

    <script type = "text/javascript" src = "http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" ></script>
    <link href = "http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" rel = "stylesheet" type = "text/css" />
    <script type = "text/javascript" src = "http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js" ></script>
    <link href = "http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel = "stylesheet" type = "text/css"/>
    <script src = "http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js" type = "text/javascript" ></script>

    <script type = "text/javascript">
        $(function() {
            $('.listbox').multiselect({
                includeSelectAllOption: true
            });
        });
    </script>

    @*
    @if (ViewBag.Message != null)
    {
        <script type="text/javascript">
                window.onload = function () {
                    alert("@ViewBag.Message");
                };
        </script>
    }
    *@

}